import re
import pickle
import string

def cleanhtml(raw_html):
	cleanr = re.compile('<.*?>')
	cleantext = re.sub(cleanr,'', raw_html)
	return cleantext

def parseAdj(line):
	line.translate(None, string.punctuation)

	myLine = line.translate(string.maketrans("",""), string.punctuation)
	lineLowerCase = myLine.lower()
	words = lineLowerCase.split()

	f.write("REVIEW: ")
	for i in words:
		f.write(i + ' ')
	f.write('\n')

	adjectives = [x for x in allWordsList if x in words]

	# adding adjectives to list without repeats
	for element in adjectives:
		if element not in allAdjList:
			allAdjList.append(element)

	f.write("ADJECTIVES: ")
	for j in adjectives:
		f.write(j + ', ')
	f.write('\n\n')


## Open the file with read only permit
# fadjNeg = open('4783_negativeWords.txt', 'r')
# fadjPos = open('2006_positiveWords.txt', 'r')
fallComments = open('AllComments.csv','r')
freviewPos = open('PositiveComments.csv', 'r')
freviewNeg = open('NegativeComments.csv', 'r')
f = open('output.txt', 'w')

posWordArr = [posWord.rstrip('\n') for posWord in open('2006_positiveWords.txt')]
negWordArr = [negWord.rstrip('\n') for negWord in open('4783_negativeWords.txt')]
allWordsList = posWordArr + negWordArr

## Read the first line
line = fallComments.readline()
allAdjList = []


while line:
	parseAdj(line)
	line = fallComments.readline()

f.write("\n\nALL ADJECTIVES: ")
for j in allAdjList:
	f.write(j + ', ')

# next steps
Varray = []

## If the file is not empty keep reading line one at a time
## till the file is empty
# while line:
#     line = freviewPos.readline()
#     new = cleanhtml(line)
#     print(new)
freviewPos.close()
freviewNeg.close()
fallComments.close()
f.close()
